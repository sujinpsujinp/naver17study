<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>502study</title>
        <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu&family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <style>
            body *{
                font-family:'Jua';
            }
        </style>
        <script>
            window.onload=function(){
                //로칼스토리지값으로 초기값 적용
                init();
                //로그인버튼 이벤트
                document.getElementById("btnlogin").onclick=function(){
                    //체크상태값 가져오기
                    let chksave=document.querySelector("#chksave").checked;
                    //alert(chksave);
                    //아이디와 비밀번호 가져오기
                    let myid=document.querySelector("#myid").value;
                    let mypass=document.querySelector("#mypass").value;

                    //아이디와 비번이 맞으면(적당한값으로 비교) 로칼스토리지 저장
                    if(myid=='angel' && mypass=='1234'){
                        alert("로그인되었습니다");
                        
                        localStorage.chksave=chksave;
                        localStorage.myid=myid;

                        //적당한곳으로 일단 이동
                        //location.href="http://www.nate.com";
                    }else{
                        alert("아이디와 비번이 맞지 않습니다");
                    }

                }
            }

            //로칼스토리지값 가져와서 적용
            function init()
            {
                //로칼스토리지에서 체크값과 아이디를 가져온다
                let chksave=localStorage.chksave;
                let myid=localStorage.myid;

                if(chksave=='true'){
                    document.querySelector("#chksave").checked=true;
                    document.querySelector("#myid").value=myid;
                }else{
                    document.querySelector("#chksave").checked=false;
                    document.querySelector("#myid").value="";
                }
            }
        </script>
    </head>
    <body>
        <div class="login" style="margin: 30px;">
            <table class="table table-bordered" style="width:300px ;">
                <tr>
                    <td colspan="2" align="center">
                        <label><input type="checkbox" id="chksave">아이디저장</label>
                    </td>
                </tr>
                <tr>
                    <th style="width:100px ;" class="table-info">아이디</th>
                    <td>
                        <input type="text" id="myid" class="form-control"
                        placeholder="아이디" autofocus>
                    </td>
                </tr>
                <tr>
                    <th style="width:100px ;" class="table-info">비밀번호</th>
                    <td>
                        <input type="password" id="mypass" class="form-control"
                        placeholder="비밀번호">
                    </td>
                </tr>
                <tr>
                    <td colspan="2" class="table-danger" align="center">
                        <button type="button" id="btnlogin" class="btn btn-default"
                        style="width:150px ;">회원로그인</button>
                    </td>
                </tr>
            </table>
        </div>   
    </body>
</html>